version: 1
cap: 100

# Turn gating OFF to prove signals apply; we can re-enable after.
min_required: [role_family]

# Preferred shape
weights:
  role_family:
    Sales: 35
    Engineering: 25
    Marketing: 10
    "Customer Success": 20
    Operations: 10
  seniority:
    C: 30
    VP: 25
    Head: 20
    Director: 18
    Manager: 12
    IC: 0

# Back-compat shape some loaders expect
signals:
  role_family:
    Sales: 35
    Engineering: 25
    Marketing: 10
    "Customer Success": 20
    Operations: 10
  seniority:
    C: 30
    VP: 25
    Head: 20
    Director: 18
    Manager: 12
    IC: 0

# Optional extras if you wire them up later
company_size: { small: 5, mid: 10, large: 15 }
industry: { SaaS: 10, Manufacturing: 5 }

reason_labels:
  role_family: "role_family"
  seniority: "seniority"
  company_size: "company_size"
  industry: "industry"

# ---------------------------------------------------------------------------
# O10: Export policies (R18+)
#
# These define which leads are allowed to be exported based on:
#   - verify_status from R18
#   - overall ICP score
#   - role_family / seniority / industry filters
#
# The loader is expected to:
#   - pick a policy by name (e.g. "default")
#   - apply its allowed_statuses and thresholds
#   - return (ok, reason) where reason can be:
#       "ok"
#       "status_not_allowed"
#       "icp_below_threshold"
#       "role_excluded"
#       "seniority_excluded"
#       "industry_excluded"
# ---------------------------------------------------------------------------
export_policies:
  default:
    # Only export leads whose R18 verify_status is one of these.
    allowed_statuses:
      - valid
      - risky_catch_all

    # Minimum ICP scores required per status bucket.
    min_icp_score_valid: 70
    min_icp_score_catch_all: 80

    # Optional exclusions by role_family / seniority / industry.
    # These should match the normalized values your ICP pipeline produces.
    exclude_roles:
      - student
      - intern
    exclude_seniority:
      - junior
    exclude_industries:
      - education
      - government
